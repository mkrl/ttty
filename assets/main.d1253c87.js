!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e=(e,t,n)=>{const r=document.createElement(e);return t&&(r.className=t),n&&(r.innerHTML=n),r},t=(e,t=!1)=>{e.input.readOnly=!t,e.inputContainer.style.opacity=t?"":"0"};var n,r;(r=n||(n={})).ON_COMMAND="onCommand",r.ON_COMMAND_NOT_FOUND="onCommand404",r.ON_PROCESS_START="onProcessStart",r.ON_PROCESS_END="onProcessStop",r.ON_PROCESS_INTERRUPT="onProcessInterrupt",r.ON_INIT="onInit";const o=(e,t,n)=>{const r=new CustomEvent(e,{detail:n});t.dispatchEvent(r)},i=(e,t)=>{const{print:r}=t,[i,...a]=e.split(" "),l=a.join(" ").match(/('[^']+'|"[^"]+"|[^\s'"]+)/g),c=null===l?[]:l.map((e=>e.replace(/(^['"]|['"]$)/g,""))),s=t.settings.commands[i];s?s.argDescriptions&&s.argDescriptions.length>0&&0===c.length?r(`Usage: ${i} ${s.argDescriptions.map((e=>`[${e}]`)).join(" ")}`):(s.func(t,...c),o(n.ON_COMMAND,t.settings.host,e)):(r(`<span class="terminal-error">command not found: ${i}</span>`),o(n.ON_COMMAND_NOT_FOUND,t.settings.host,e))},a=e=>{const{settings:{host:r}}=e;t(e),e.isProcessRunning=!0,o(n.ON_PROCESS_START,r)},l=e=>{const{input:r,settings:{host:i}}=e;t(e,!0),e.isProcessRunning=!1,r.focus(),o(n.ON_PROCESS_END,i)},c=(e,t)=>{const{history:n,lastHistoryIndex:r}=e,o=n.length-1;let i;t&&0===r||(t||r!==n.length)&&(o<0||(t?(i=r-1,e.input.value=i-1>=0?n[i-1]:""):(i=r+1,e.input.value=n[r]),e.lastHistoryIndex=i))};const s=["default","solarized","light","ubuntu","classic","borland","gotham","horizon","icorange","lavandula","lunaria","amber"],m={default:{"--terminal-bg-color":"black","--terminal-fg-color":"white","--terminal-accent-color":"#ffff7d","--terminal-error-color":"#cc1010"},solarized:{"--terminal-bg-color":"#073642","--terminal-fg-color":"#fdf6e3","--terminal-accent-color":"#b58900","--terminal-error-color":"#dc322f"},light:{"--terminal-bg-color":"white","--terminal-fg-color":"black","--terminal-accent-color":"#b58900","--terminal-error-color":"#9f211f"},ubuntu:{"--terminal-bg-color":"#300B23","--terminal-fg-color":"white","--terminal-accent-color":"#89DE49","--terminal-error-color":"#E0232C"},borland:{"--terminal-bg-color":"#0015a0","--terminal-fg-color":"#ffff4e","--terminal-accent-color":"#a8ff60","--terminal-error-color":"#ff6c60"},gotham:{"--terminal-bg-color":"#0a0f14","--terminal-fg-color":"#98d1ce","--terminal-accent-color":"#26a98b","--terminal-error-color":"#c33027"},horizon:{"--terminal-bg-color":"#fdf0ed","--terminal-fg-color":"#1c1e26","--terminal-accent-color":"#1eb980","--terminal-error-color":"#da103f"},icorange:{"--terminal-bg-color":"#262626","--terminal-fg-color":"#ffcb83","--terminal-accent-color":"#a4a900","--terminal-error-color":"#c13900"},lavandula:{"--terminal-bg-color":"#050014","--terminal-fg-color":"#736e7d","--terminal-accent-color":"#337e6f","--terminal-error-color":"#7d1625"},lunaria:{"--terminal-bg-color":"#ebe4e1","--terminal-fg-color":"#484646","--terminal-accent-color":"#497d46","--terminal-error-color":"#783c1f"},amber:{"--terminal-bg-color":"#2b1900","--terminal-fg-color":"#ff9400","--terminal-accent-color":"#ff9400","--terminal-error-color":"#ff9400"},classic:{"--terminal-bg-color":"black","--terminal-fg-color":"#87DE47","--terminal-accent-color":"#87DE47","--terminal-error-color":"#ED262E"}};let u="default";const d=document.querySelector("main"),p=(({host:t,welcomeMessage:r,prompt:s="$: ",historyLength:m=50,enableHelp:u=!0,commands:d})=>{const p={host:t,welcomeMessage:r,prompt:s,historyLength:m,enableHelp:u,commands:d};(()=>{if(0===document.head.querySelectorAll('link[data-type="terminal"]').length){const t=e("style",void 0,'.terminal{overflow-y:auto;overflow-x:hidden;background-color:var(--terminal-bg-color, black);padding:15px;box-sizing:border-box}.terminal *{color:var(--terminal-fg-color, white);font-family:var(--terminal-font, "Courier New", monospace)}.terminal-type{width:100%;display:flex}.terminal-type>span{padding-right:7pt}.terminal-type>input{flex-grow:2;background:transparent;border:0;font-size:inherit;padding:0}.terminal-type>input:focus{border:none;outline:none}.terminal-container>p{margin:0}span.terminal-command{color:var(--terminal-accent-color, #ffff7d)}span.terminal-error{color:var(--terminal-error-color, #cc1010)}');t.setAttribute("data-type","terminal"),t.setAttribute("type","text/css"),document.head.append(t)}})();const{commandContainer:f,input:g,inputContainer:h}=((t,n)=>{t.className="terminal";const r=e("div","terminal-container"),o=e("div","terminal-type"),i=e("span",void 0,n),a=e("input");return a.setAttribute("type","text"),o.append(i),o.append(a),t.append(r),t.append(o),t.addEventListener("click",(()=>a.focus())),{commandContainer:r,input:a,inputContainer:o}})(t,s),b={history:[],lastHistoryIndex:0,isProcessRunning:!1,settings:p,commandContainer:f,inputContainer:h,input:g,print:(t,n=!1)=>((t,n,r,o,i)=>{const a=e("p",void 0,n?i:t);if(n){const n=e("span","terminal-command",t);a.append(n)}r.append(a),o.scrollIntoView()})(t,n,f,g,s),run:e=>i(e,b),start:()=>a(b),stop:()=>l(b),type:(t,n=60,r)=>((t,n,r,o)=>{a(r);const i=e("p");r.commandContainer.append(i);let c=0;const s=()=>{c<t.length&&r.isProcessRunning?(i.innerHTML+=t.charAt(c),c++,setTimeout(s,n)):(o&&o(),l(r))};setTimeout(s,n)})(t,n,b,r)};return u&&(b.settings.commands.help=(e=>({name:"help",description:"shows a full list of all available commands",func:({print:t})=>{for(const n in e.settings.commands)Object.hasOwnProperty.call(e.settings.commands,n)&&t(e.settings.commands[n].name+" - "+e.settings.commands[n].description)}}))(b)),((e,t)=>{const{input:r,print:a}=t;e.addEventListener("keyup",(({key:s,ctrlKey:m})=>{if(m&&"c"===s&&t.isProcessRunning)a("^C"),l(t),o(n.ON_PROCESS_INTERRUPT,e);else{if(t.isProcessRunning)return;if("Enter"===s)return t.lastHistoryIndex=0,r.value.length>0?(a(r.value,!0),(e=>{const{input:{value:t},history:n,settings:{historyLength:r}}=e;t!==n[0]&&(n.length>=r?e.history=[t,...n.slice(0,-1)]:(e.history=[t,...n],e.lastHistoryIndex=0))})(t),i(r.value,t)):a(" ",!0),void(r.value="");if("ArrowUp"===s)return void c(t);"ArrowDown"===s&&c(t,!0)}}))})(t,b),o(n.ON_INIT,t),r&&b.print(r),b})({host:document.querySelector("#terminal"),welcomeMessage:`Welcome to ttty @ ${navigator.userAgent}<br/><br/>\n     * Documentation:  <a href="https://github.com/mkrl/ttty/blob/master/README.md" target="_blank">https://github.com/mkrl/ttty</a><br/><br/>`,prompt:"ttty:~$ ",commands:{test:{name:"test",description:"a test command with no arguments that just prints some text",func:({type:e})=>{e("The quick brown fox jumps over the lazy dog",20)}},echo:{name:"echo",description:"echo whatever you pass as an argument",argDescriptions:["a string to be echoed in console"],func:({print:e},t)=>{e(t)}},multiply:{name:"multiply",description:"multiply two numbers",argDescriptions:["number one","number two"],func:({print:e},t,n)=>{e(String(Number(t)*Number(n)))}},start:{name:"start",description:"starts doing something for a certain period of time",func:e=>{e.print("Downloading more RAM..."),e.print("Press Ctrl + C if you think you have enough RAM"),e.type("............................................",160,(()=>{e.isProcessRunning&&e.print("Successfully downloaded 42gb of RAM!")}))}},color:{name:"color",description:"set a terminal color scheme",argDescriptions:["color scheme"],func:({print:e},t)=>{e((e=>{if(s.includes(e)||"random"===e){const t=s.filter((e=>e!==u)),n="random"===e?t[Math.floor(Math.random()*t.length)]:e,r=m[n];return Object.keys(r).forEach((e=>{document.documentElement.style.setProperty(e,r[e])})),u=n,`Color scheme set to ${n}`}return`Color scheme "${e}" was not found. <br/><br/>Available schemes: ${[...s,"random"].join(", ")}.`})(t))}},clear:{name:"clear",description:"clear the history",func:({commandContainer:e})=>{e.innerHTML=""}},github:{name:"github",description:"gets a Github user's name and number of public repositories",argDescriptions:["Github username"],func:({print:e,start:t,stop:n},r)=>{t(),fetch(`https://api.github.com/users/${r}`).then((e=>{if(!e.ok)throw e;return e.json()})).then((t=>{var n;e(`${null!=(n=t.name)?n:r} has ${t.public_repos} public repos`)})).catch((t=>{404===t.status?e(`Can't find this ${r} on Github`):e("We got an error talking to Github")})).finally((()=>n()))}}}});null==d||d.addEventListener("click",(({target:e})=>{var t;if(Object.keys(null==e?void 0:e.dataset).length>0&&e){const n=null==(t=e.dataset)?void 0:t.exec;p.print(n,!0),p.run(n)}})),p.input.focus(),window.terminal=p;
